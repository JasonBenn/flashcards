IWhat is the core tradeoff in a distributed hash table?
The number of neighbors a peer has to track
The number of messages a peer must send to resolve a query ("Who is responsible for hashed key 13?")

What happens when a peer in a distributed hash table can't answer a query?
It hashes the question and asks a neighbor (a nearby peer) that might know the answer.

What is a BitTorrent tracker?
A distributed hash table of currently living peers.

How does the transport layer check for errors?
Sending host: checksum the packet, put in checksum header field
Receiving host: checksum the packet, add it to sending checksum, does it equal 11111111?

What are the well-known port numbers?
0 to 1023.
HTTP: 80
HTTPS: 443
SSH: 22

What's the relationship between ports and sockets?
TCP receives messages at a port, a demultiplexes them to a socket based on the 4-tuple (src-ip, src-port, dest-ip, dest-port)

How are UDP and TCP demultiplexing different?
TCP demultiplexing is complex - there can be many TCP sockets for a port. Identifiable by 4 tuple.
UDP demultiplexing is simpler - there's only ever one UDP socket for a port. Identifiable by (dest ip, dest port)

How does TCP determine a timeout interval?
A weighted moving average of estimated round-trip times between packet transmission and ACK, plus some multiple of the EstRTTs variance (like 4).

How many ports are there?
It's a 16 bit number, so 65,535 (0 counts).

Why does TCP set initial sequence numbers randomly during the 3-way handshake?
To reduce the probability that incorrect data is ACK'd - there could be stray packets still in the network from a previous, ended TCP connection between those two hosts and ports.

What's the difference between flow control and congestion control?
Flow control: don't let sender overwhelm receiver (receiving application is slow reading data from the receiving buffer)
Congestion control: don't let sender overwhelm network

What problem does the Go-Back-N protocol solve?
Identifying missing data. Go-Back-N implementers ACK the last in-order received byte, even if they've received later bytes, out-of-order.
(Most TCP implementers ACK missing segments selectively, as it requires less network traffic)

Flow control: what does the sender need to know from the client to make overflowing the receiving buffer impossible?
The receiving buffer's free space - the amount of unacknowledged data in the network (LastByteSent - LastByteAcked)

What is included in a SYN packet?
Client's random initial sequence number
SYN bit = 1

What happens when a TCP server receives a SYN packet?
1. Allocates a buffer and a port for the connection
2. Set the acknowledgment field to client's initial sequence number + 1
3. Chooses its own ISN

How does the client respond to a SYNACK packet?
1. Allocates a buffer and port for the connection
2. Sets the acknowledgment field to the server's initial sequence number + 1
2. Optionally sends data.

What are the 6 flag bits in a TCP packet's header?
SYN
RST
FIN
ACK (acknowledgment number field is valid)
URG (urgent, not used)
PSH (pass to application layer now, not used)

What is the conditional GET?
A request that might return 304 Not Modified.
Caching could be implemented using:
Date modified (Resp: Last-Modified, Req: If-Modified-Since)
ETags (Req: If-None-Match, Resp: ETag)
Cache-Control (Req+Res: "Cache-Control: max-age=120").



Commonly imported Django modules?



AWS:

stack (dev prod). has many layers.

layer = collection of instances. expand and contract as needed. has recipes.

instances (potentially many instances in an app)



apps (seminar, schools) (within stacks) doesn't support django so we don't really use it. they're just labels.



figure out which file opsworks is logging into
ps fauxw, look for the line with tee



for x in seminar{1,2}; do ssh $x 'ls -l'; end

Integration test logs?
logs/integration_4000.log

Find out what filesystem files a command touched?
strace on linux, dtruss on OSX

Lots of migration-related looking test failures on ./scripts/serverunit?
Turn off REUSE_DB=1 and remigrate the DB. You can use it again afterwards.
Server unit environment = local.

Bash:
Last word on previous line?
!$
